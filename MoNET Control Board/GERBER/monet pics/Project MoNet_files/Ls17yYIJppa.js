if (self.CavalryLogger) { CavalryLogger.start_js(["EzII4"]); }

__d('MessengerQuickCamDialog.react',['cx','fbt','ChatTabQuickCamMediaErrorDialog.react','CloseButton.react','FluxContainer','FluxReduceStore','Keys','MessengerDialogBody.react','MessengerDialogButton.react','MessengerDialogFooter.react','MessengerDialogHeader.react','MessengerDialogTitle.react','MessengerQuickCam.react','MessengerQuickCamActions','MessengerQuickCamMediaErrorDialog.react','MessengerQuickCamOrigins','MessengerQuickCamStore','React','XUIDialogBody.react','XUIDialogButton.react','XUIDialogFooter.react','XUIDialogHeader.react','XUIDialogHeaderTitle.react'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k;if(c.__markCompiled)c.__markCompiled();var l=c('React').PropTypes;j=babelHelpers.inherits(m,c('React').PureComponent);k=j&&j.prototype;function m(){var n,o;for(var p=arguments.length,q=Array(p),r=0;r<p;r++)q[r]=arguments[r];return o=(n=k.constructor).call.apply(n,[this].concat(q)),this.$MessengerQuickCamDialog1=function(){c('MessengerQuickCamActions').close();this.props.onHidden();}.bind(this),o;}m.getStores=function(){return [c('MessengerQuickCamStore')];};m.calculateState=function(){return {quickcam:c('MessengerQuickCamStore').getState()};};m.prototype.componentDidUpdate=function(){if(this.state.quickcam.uploadComplete)this.$MessengerQuickCamDialog1();};m.prototype.render=function(){if(!this.props.shown)return null;if(!this.state.quickcam.videoSrc&&this.state.quickcam.mediaRequested)return this.$MessengerQuickCamDialog2();return (c('React').createElement('div',null,this.$MessengerQuickCamDialog3(),this.$MessengerQuickCamDialog4(),this.$MessengerQuickCamDialog5(),this.$MessengerQuickCamDialog6()));};m.prototype.$MessengerQuickCamDialog7=function(){c('MessengerQuickCamActions').takePhoto();};m.prototype.$MessengerQuickCamDialog8=function(){c('MessengerQuickCamActions').sendPhoto();};m.prototype.$MessengerQuickCamDialog9=function(){c('MessengerQuickCamActions').takeVideo();};m.prototype.$MessengerQuickCamDialog10=function(){c('MessengerQuickCamActions').stopVideo();};m.prototype.$MessengerQuickCamDialog11=function(){c('MessengerQuickCamActions').sendVideo();};m.prototype.$MessengerQuickCamDialog12=function(){c('MessengerQuickCamActions').retake();};m.prototype.$MessengerQuickCamDialog13=function(){return this.props.location===c('MessengerQuickCamOrigins').MESSENGER;};m.prototype.$MessengerQuickCamDialog14=function(){return this.state.quickcam.snapshot!=null||this.state.quickcam.videoBlob!=null;};m.prototype.$MessengerQuickCamDialog2=function(){return (this.$MessengerQuickCamDialog13()?c('React').createElement(c('MessengerQuickCamMediaErrorDialog.react'),{handleHidden:this.$MessengerQuickCamDialog1}):c('React').createElement(c('ChatTabQuickCamMediaErrorDialog.react'),{handleHidden:this.$MessengerQuickCamDialog1}));};m.prototype.$MessengerQuickCamDialog3=function(){return (this.$MessengerQuickCamDialog13()?this.$MessengerQuickCamDialog15():this.$MessengerQuickCamDialog16());};m.prototype.$MessengerQuickCamDialog15=function(){return (c('React').createElement(c('MessengerDialogHeader.react'),null,c('React').createElement(c('MessengerDialogTitle.react'),null,i._("Quick Cam")),c('React').createElement(c('CloseButton.react'),{className:"_12wx",onClick:this.$MessengerQuickCamDialog1})));};m.prototype.$MessengerQuickCamDialog16=function(){return (c('React').createElement(c('XUIDialogHeader.react'),null,c('React').createElement(c('XUIDialogHeaderTitle.react'),null,i._("Quick Cam"))));};m.prototype.$MessengerQuickCamDialog17=function(){if(!this.state.quickcam.videoSrc)return null;return (c('React').createElement(c('MessengerQuickCam.react'),{location:this.props.location,onHidden:this.$MessengerQuickCamDialog1}));};m.prototype.$MessengerQuickCamDialog4=function(){return (this.$MessengerQuickCamDialog13()?c('React').createElement(c('MessengerDialogBody.react'),null,this.$MessengerQuickCamDialog17()):c('React').createElement(c('XUIDialogBody.react'),null,this.$MessengerQuickCamDialog17()));};m.prototype.$MessengerQuickCamDialog18=function(){return (c('React').createElement('div',null,this.$MessengerQuickCamDialog19(),this.$MessengerQuickCamDialog20()));};m.prototype.$MessengerQuickCamDialog21=function(){return (c('React').createElement('div',{className:this.$MessengerQuickCamDialog13()?"_3-8w":''},this.$MessengerQuickCamDialog22(),this.$MessengerQuickCamDialog23(),this.$MessengerQuickCamDialog24()));};m.prototype.$MessengerQuickCamDialog6=function(){if(this.state.quickcam.progressInterval)return null;return (this.$MessengerQuickCamDialog13()?c('React').createElement(c('MessengerDialogFooter.react'),{leftContent:this.$MessengerQuickCamDialog18()},this.$MessengerQuickCamDialog21()):c('React').createElement(c('XUIDialogFooter.react'),{leftContent:this.$MessengerQuickCamDialog18()},this.$MessengerQuickCamDialog21()));};m.prototype.$MessengerQuickCamDialog25=function(n){return (this.$MessengerQuickCamDialog13()?n:c('React').createElement(c('XUIDialogButton.react'),n.props));};m.prototype.$MessengerQuickCamDialog20=function(){if(this.$MessengerQuickCamDialog14()||this.state.quickcam.progressInterval)return null;var n=c('React').createElement(c('MessengerDialogButton.react'),{label:i._("Take Video"),onClick:this.$MessengerQuickCamDialog9,type:'primary',disabled:false});return this.$MessengerQuickCamDialog25(n);};m.prototype.$MessengerQuickCamDialog5=function(){if(!this.state.quickcam.progressInterval)return null;var n=c('React').createElement(c('MessengerDialogButton.react'),{className:"_4d5i",label:i._("Stop Video"),onClick:this.$MessengerQuickCamDialog10,type:'primary'});return this.$MessengerQuickCamDialog25(n);};m.prototype.$MessengerQuickCamDialog22=function(){if(this.$MessengerQuickCamDialog14()||this.state.quickcam.progressInterval)return null;var n=c('React').createElement(c('MessengerDialogButton.react'),{label:i._("Take Photo"),onClick:this.$MessengerQuickCamDialog7,type:'primary',disabled:false});return this.$MessengerQuickCamDialog25(n);};m.prototype.$MessengerQuickCamDialog19=function(){if(!this.$MessengerQuickCamDialog14())return null;var n=c('React').createElement(c('MessengerDialogButton.react'),{label:i._("Retake"),onClick:this.$MessengerQuickCamDialog12,type:'primary',disabled:false});return this.$MessengerQuickCamDialog25(n);};m.prototype.$MessengerQuickCamDialog24=function(){if(!this.state.quickcam.videoBlob)return null;var n=c('React').createElement(c('MessengerDialogButton.react'),{label:i._("Send Video"),onClick:this.$MessengerQuickCamDialog11,type:'primary',use:this.$MessengerQuickCamDialog13()?'default':'confirm',disabled:false});return this.$MessengerQuickCamDialog25(n);};m.prototype.$MessengerQuickCamDialog23=function(){if(!this.state.quickcam.snapshot)return null;var n=c('React').createElement(c('MessengerDialogButton.react'),{label:i._("Send Photo"),onClick:this.$MessengerQuickCamDialog8,type:'primary',use:this.$MessengerQuickCamDialog13()?'default':'confirm',disabled:false});return this.$MessengerQuickCamDialog25(n);};m.prototype.$MessengerQuickCamDialog26=function(n){var event=n;if(event&&event.keyCode===c('Keys').ESC&&this.props.onEscKeyDown){this.props.onEscKeyDown();event.preventDefault();}};m.propTypes={location:l.oneOf(c('MessengerQuickCamOrigins').getValues()).isRequired,onShown:l.func.isRequired,onHidden:l.func.isRequired,onEscKeyDown:l.func.isRequired,shown:l.bool.isRequired,threadID:l.string.isRequired};f.exports=c('FluxContainer').create(m);}),null);