if (self.CavalryLogger) { CavalryLogger.start_js(["tLS5j"]); }

__d("DliteSessionConfig",[],(function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={loggedOutErrorCodes:[1340002,1340004,1357001,1780001,1348007]};}),null);
__d('forceSubdomain',['URI'],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();function h(i,j){var k=new (c('URI'))(window.location.href),l=k.getDomain().split('.');if(l.length<=2){l.unshift(j);}else l[0]=j;return new (c('URI'))(i).setProtocol(k.getProtocol()).setDomain(l.join('.')).setPort(k.getPort());}f.exports=h;}),null);
__d('RelayWebBootloader',['ix','Bootloader','CSRFGuard','RelayAPIRequest','DliteBootloadConfig','DliteSessionConfig','DTSG','RelayError','ServerJSDefine','SiteData','clearImmediate','ex','forceSubdomain','getAsyncParams','getCrossOriginTransport','setImmediate'],(function a(b,c,d,e,f,g,h){'use strict';if(c.__markCompiled)c.__markCompiled();var i={},j={load:function n(o,p,q){var r,s=q.onFailure,t=q.onLoading,u=q.onSuccess;if(j.isLoaded(o)){var r=function(){var v=c('setImmediate')(u);return {v:{abort:function w(){c('clearImmediate')(v);}}};}();if(typeof r==="object")return r.v;}t&&t();return k(o,p,{onSuccess:function(v){function w(){return v.apply(this,arguments);}w.toString=function(){return v.toString();};return w;}(function(){j.setLoaded(o);u&&u();}),onFailure:function(v){function w(x){return v.apply(this,arguments);}w.toString=function(){return v.toString();};return w;}(function(v){s&&s(v);})});},isLoaded:function n(o){return !!i[o.name];},setLoaded:function n(o){i[o.name]=true;}};function k(n,o,p){var q=p.onFailure,r=p.onSuccess,s=c('forceSubdomain')(c('DliteBootloadConfig').Controller.getURIBuilder().setString('component',o).setString('route',n.name).setString('params',JSON.stringify(n.params)).setString('uri',n.uri&&n.uri.toString()).getURI(),c('DliteBootloadConfig').subdomain);s.addQueryData(c('DliteBootloadConfig').PKG_COHORT_KEY,c('SiteData').pkg_cohort);var t=false,u=false;function v(){if(!u){u=true;r&&r();}}function w(x){if(!(t||u)){u=true;q&&q(x);}}return new (c('RelayAPIRequest'))(s).setMethod('GET').setData(c('getAsyncParams')('GET')).setTransportBuilder(c('getCrossOriginTransport').withCredentials).setResponseFilter(c('CSRFGuard').clean).setResponseChunkHandler(function(x){var y=void 0;try{y=JSON.parse(x);}catch(z){w(z);return;}for(var aa in y)if(y.hasOwnProperty(aa)){var ba=y[aa];switch(aa){case 'resources':t=true;c('ServerJSDefine').handleDefines(ba.defines);l(ba.haste,v);break;case 'error':if(m(ba)){var ca=y.error,da=y.errorSummary;w(c('RelayError').create('LoggedOutError','Error %s: %s',ca,da));}var ea=ba.name,fa=ba.message;w(new Error(c('ex')('Bootload server error %s: %s',ea,fa)));break;case 'dtsgToken':if(ba)c('DTSG').setToken(ba);break;default:w(new Error(c('ex')('Unexpected bootload response: %s',aa)));break;}}}).setErrorHandler(function(x){w(new Error(c('ex')('Bootload XHR error %s: %s %s',x.errorType,x.errorCode,x.errorMsg)));}).setTimeoutHandler(function(){w(new Error('Bootload request timed out.'));}).send();}function l(n,o){if(n.resource_map)c('Bootloader').setResourceMap(n.resource_map);if(n.bootloadable)c('Bootloader').enableBootload(n.bootloadable);h.add(n.ixData);var p=n.allResources||[];c('Bootloader').loadResources(p,o);}function m(n){return (typeof n.error==='number'&&c('DliteSessionConfig').loggedOutErrorCodes.includes(n.error));}f.exports=j;}),null);
__d('RelayWebClient',['invariant','React','ReactDOM','ReactMarkupChecksum','RelayReadyStateRenderer','RelayWebBootloader','Set','getRelayQueries'],(function a(b,c,d,e,f,g,h){'use strict';if(c.__markCompiled)c.__markCompiled();function i(l){this.$RelayWebClient1=new (c('Set'))();this.$RelayWebClient2=l;this.$RelayWebClient3=null;this.$RelayWebClient4=null;}i.prototype.addReadyStateChangeListener=function(l){!!this.$RelayWebClient1.has(l)?h(0):void 0;this.$RelayWebClient1.add(l);return {remove:function(){!this.$RelayWebClient1.has(l)?h(0):void 0;this.$RelayWebClient1['delete'](l);}.bind(this)};};i.prototype.render=function(l){var m=l.Container,n=l.environment,o=l.route,p=l.forceFetch,q=l.onReadyStateChange,r=j(m),s=function v(w){var x=w.done,y=w.error,z=w.props,aa=w.retry,ba=w.stale;if(z)return y?c('React').createElement(m,babelHelpers['extends']({},z,{hasError:true,retryURI:o.uri})):c('React').createElement(m,z);return undefined;},t=function(){this.render({Container:m,environment:n,route:o,forceFetch:p,onReadyStateChange:q});}.bind(this),u=function(){if(!this.$RelayWebClient3)return;c('ReactDOM').render(c('React').createElement(c('RelayReadyStateRenderer'),{Container:m,environment:n,queryConfig:this.$RelayWebClient3,readyState:{aborted:false,done:false,error:null,events:[],ready:true,stale:false},render:function v(w){var x=w.props;return (c('React').createElement(m,babelHelpers['extends']({},x,{isLoading:true})));},retry:t}),this.$RelayWebClient2);}.bind(this);this.$RelayWebClient4&&this.$RelayWebClient4.abort();this.$RelayWebClient4=c('RelayWebBootloader').load(o,r,{onFailure:function v(w){throw w;},onLoading:function v(){u();},onSuccess:function(){if(!k(this.$RelayWebClient2))u();var v=c('getRelayQueries')(m,o),w=function(x){if(x.ready){this.$RelayWebClient3=o;c('ReactDOM').render(c('React').createElement(c('RelayReadyStateRenderer'),{Container:m,environment:n,queryConfig:o,readyState:x,render:s,retry:t}),this.$RelayWebClient2);}q(x);this.$RelayWebClient1.forEach(function(y){y(x,m,o);});}.bind(this);if(p){n.forceFetch(v,w);}else n.primeCache(v,w);}.bind(this)});};i.prototype.unmount=function(){if(!this.$RelayWebClient4)return;this.$RelayWebClient4.abort();this.$RelayWebClient4=null;c('ReactDOM').unmountComponentAtNode(this.$RelayWebClient2);};function j(l){!(l.moduleName&&c.call(null,l.moduleName)===l)?h(0):void 0;return l.moduleName;}function k(l){var m=l.firstElementChild;return m?m.hasAttribute(c('ReactMarkupChecksum').CHECKSUM_ATTR_NAME):false;}f.exports=i;}),null);
__d('RelayWebBeforeNavigation',['ExecutionEnvironment','EventListener','SubscriptionList'],(function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();var h=void 0,i=new (c('SubscriptionList'))(l,m),j={addListener:function n(o){return i.add(o);},shouldTransition:function n(){var o=k();return o==null||window.confirm(o);}};function k(){var n=null,o=i.getCallbacks().some(function(p){n=p();return typeof n==='string';});return o?n:null;}function l(){if(!c('ExecutionEnvironment').canUseDOM)return;h=c('EventListener').listen(window,'beforeunload',function(event){var n=k();if(n)event.returnValue=n;});}function m(){h&&h.remove();h=null;}f.exports=j;}),null);
__d('RelayWebHistoryEntry',['Map','getScrollPosition'],(function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();function h(i){this.$RelayWebHistoryEntry1=i;this.$RelayWebHistoryEntry2=null;this.$RelayWebHistoryEntry3=new (c('Map'))();}h.prototype.unmount=function(){this.$RelayWebHistoryEntry2=c('getScrollPosition')(window).y;};h.prototype.getRoute=function(){return this.$RelayWebHistoryEntry1;};h.prototype.getScrollY=function(){return this.$RelayWebHistoryEntry2;};h.prototype.addVariables=function(i,j){this.$RelayWebHistoryEntry3.set(j,babelHelpers['extends']({},i));};h.prototype.getVariables=function(i){if(this.$RelayWebHistoryEntry3.has(i))return babelHelpers['extends']({},this.$RelayWebHistoryEntry3.get(i));return null;};h.prototype.hasVariables=function(){return this.$RelayWebHistoryEntry3.size>0;};f.exports=h;}),null);
__d('RelayWebHistory',['invariant','EventListener','ExecutionEnvironment','RelayRouter','ReloadPage','RelayWebHistoryEntry','SubscriptionList','URI'],(function a(b,c,d,e,f,g,h){'use strict';if(c.__markCompiled)c.__markCompiled();var i='Facebook',j=-1,k=false,l=[],m=new (c('SubscriptionList'))();if(c('ExecutionEnvironment').canUseEventListeners)c('EventListener').listen(window,'popstate',function(event){if(!k){k=true;}else if(n()){q.getCurrentEntry().unmount();var r=new (c('URI'))(window.location.href),s=event.state&&event.state.index||0;if(!l[s]){var t=c('RelayRouter').getRoute(r);if(t){l[s]=new (c('RelayWebHistoryEntry'))(t);}else{c('ReloadPage').now();return;}}j=s;m.fireCallbacks(q.getCurrentEntry());}});function n(){return j>=0;}function o(){!n()?h(0):void 0;}function p(r,s,t){l[s]=new (c('RelayWebHistoryEntry'))(t);j=s;var u=new (c('URI'))(t.uri).setProtocol(null).setDomain(null).setPort(null);r.call(window.history,{index:s},i,u.toString());k=true;}var q={initialize:function r(s){!!n()?h(0):void 0;if(c('ExecutionEnvironment').canUseDOM){var t=window.history;!(t&&t.pushState)?h(0):void 0;j=t.state&&t.state.index||0;}else j=0;l[j]=new (c('RelayWebHistoryEntry'))(s);},addPopStateListener:function r(s){return m.add(s);},pushRoute:function r(s){o();if(s.uri&&s.uri.toString()===window.location.href)return;q.getCurrentEntry().unmount();l.length=j+1;p(window.history.pushState,j+1,s);},replaceRoute:function r(s){o();p(window.history.replaceState,j,s);},requestPopRoute:function r(){o();if(q.hasPreviousEntries())window.history.back();},getCurrentEntry:function r(){o();var s=l[j];!s?h(0):void 0;return s;},getPreviousEntry:function r(){o();return l[j-1];},hasPreviousEntries:function r(){return j>0;},__debug:function r(){return {stack:l,index:j};}};f.exports=q;}),null);
__d('RelayWebVariableCache',[],(function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();var h=void 0,i={injectStorageStrategy:function j(k){h=k;},set:function j(k,l){if(h)h().addVariables(l,k);},get:function j(k){if(h){var l=h();if(l.hasVariables())return l.getVariables(k);}return null;}};f.exports=i;}),null);
__d('serializeFormQueryMap',[],(function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();function h(k){return [].concat(Array.from(k.querySelectorAll('input')),Array.from(k.querySelectorAll('select')),Array.from(k.querySelectorAll('textarea')),Array.from(k.querySelectorAll('button')));}function i(k,l){h(k).forEach(function(m){if(!m.name||m.disabled)return;var n=m.type;if(n==='submit'||n==='reset'||n==='button'||n==='image'||n==='file')return;if((n==='radio'||n==='checkbox')&&!m.checked)return;if(m.nodeName==='SELECT'){for(var o=0,p=m.options.length;o<p;o++){var q=m.options[o];if(q.selected)l('select',m.name,q.value);}return;}l(n,m.name,m.value||'');});}function j(k){var l={};i(k,function(m,n,o){var p=l[n];if(Object.prototype.hasOwnProperty.call(l,n)){if(Array.isArray(p)){p.push(o);}else l[n]=[p,o];}else l[n]=o;});return l;}f.exports=j;}),null);
__d('RelayWebRouter',['invariant','EventListener','Parent','RelayRouter','RelayWebBeforeNavigation','RelayWebHistory','RelayWebVariableCache','SubscriptionList','URI','serializeFormQueryMap'],(function a(b,c,d,e,f,g,h){'use strict';if(c.__markCompiled)c.__markCompiled();var i=Object.freeze({forceFetch:false});function j(l){this.$RelayWebRouter1=new (c('SubscriptionList'))();this.$RelayWebRouter2=function(){return false;};this.$RelayWebRouter3=c('RelayRouter').getRoute;c('RelayWebHistory').initialize(l);c('RelayWebVariableCache').injectStorageStrategy(c('RelayWebHistory').getCurrentEntry);c('RelayWebHistory').addPopStateListener(function(m){return this.$RelayWebRouter4(m.getRoute(),function(n){this.$RelayWebRouter5(n,{forceFetch:false});}.bind(this));}.bind(this));k('click',function(m){var n=m.target;return c('Parent').byTag(n,'a');},function(event,m){return this.$RelayWebRouter6(event,m);}.bind(this));k('submit',function(m){var n=m.target;return c('Parent').byTag(n,'form');},function(event,m){return this.$RelayWebRouter7(event,m);}.bind(this));}j.prototype.addRouteChangeListener=function(l){return this.$RelayWebRouter1.add(l);};j.prototype.setRouteMapper=function(l){this.$RelayWebRouter3=l;return this;};j.prototype.setRouteHandler=function(l){this.$RelayWebRouter2=l;return this;};j.prototype.pushRoute=function(l){var m=arguments.length<=1||arguments[1]===undefined?i:arguments[1];this.$RelayWebRouter4(l,function(n){c('RelayWebHistory').pushRoute(n);this.$RelayWebRouter5(n,m);}.bind(this));return this;};j.prototype.replaceRoute=function(l){var m=arguments.length<=1||arguments[1]===undefined?i:arguments[1];this.$RelayWebRouter4(l,function(n){c('RelayWebHistory').replaceRoute(n);this.$RelayWebRouter5(n,m);}.bind(this));return this;};j.prototype.replaceFragment=function(l){c('RelayWebHistory').replaceRoute(this.$RelayWebRouter8(l));return this;};j.prototype.setFragment=function(l){c('RelayWebHistory').pushRoute(this.$RelayWebRouter8(l));return this;};j.prototype.$RelayWebRouter8=function(l){var m=c('RelayWebHistory').getCurrentEntry().getRoute(),n=new (c('URI'))(m.uri);n.setFragment(l);var o=this.$RelayWebRouter3(n);!o?h(0):void 0;return o;};j.prototype.$RelayWebRouter6=function(event,l){if(!l.href||l.target&&l.target!=='_self')return;if(!event.shiftKey&&!event.ctrlKey&&!event.metaKey&&event.which!==2&&event.button!==4)this.$RelayWebRouter9(event,new (c('URI'))(l.href));};j.prototype.$RelayWebRouter7=function(event,l){if(l.action&&l.method==='get')this.$RelayWebRouter9(event,new (c('URI'))(l.action).addQueryData(c('serializeFormQueryMap')(l)));};j.prototype.$RelayWebRouter9=function(event,l){var m=this.$RelayWebRouter3(l);if(!m||this.$RelayWebRouter2(m))return;event.preventDefault();this.pushRoute(m);};j.prototype.$RelayWebRouter4=function(l,m){var n=c('RelayWebHistory').getCurrentEntry().getRoute();if(n===l||c('RelayWebBeforeNavigation').shouldTransition())m(l);};j.prototype.$RelayWebRouter5=function(l,m){this.$RelayWebRouter1.fireCallbacks({nextRoute:l,options:m});};function k(l,m,n){var o=void 0;c('EventListener').capture(document,l,function(event){o=m(event);});c('EventListener').registerDefault(l,function(event){if(!o)return;if(!event.defaultPrevented)n(event,o);o=undefined;});}f.exports=j;}),null);
__d('RelayWebScrollPosition',['RelayWebHistory'],(function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();var h={reset:function j(){var k=void 0,l=window.location.hash.substr(1);if(l)k=document.getElementById(l)||document.getElementsByName(l)[0];i(k,0);},restore:function j(){var k=c('RelayWebHistory').getCurrentEntry();if(k&&k.getScrollY()){i(null,k.getScrollY());}else h.reset();}};function i(j,k){if(j){j.scrollIntoView(true);}else window.scrollTo(0,k||0);}f.exports=h;}),null);
__d('RelayWeb',['Promise','Map','RelayRouter','RelayStore','RelayWebBootloader','RelayWebClient','RelayWebRouter','RelayWebScrollPosition','Run','replaceNativeTimer'],(function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();var h=new (c('Map'))(),i=void 0,j=new (c('Promise'))(function(m){i=function n(o){i=null;m(new (c('RelayWebRouter'))(o));};}),k=void 0,l={getClient:function m(n){var o=h.get(n);if(!o){o=c('Promise').resolve(new (c('RelayWebClient'))(n));h.set(n,o);}return o;},getRouter:function m(){return j;},bootstrap:function m(n){var o=n.Container,p=n.mountNode,q=n.route;c('replaceNativeTimer')();c('RelayWebBootloader').setLoaded(q);c('RelayRouter').addRoute(q.constructor);if(i)i(q);c('Promise').all([l.getClient(p),l.getRouter()]).done(function(r){var s=r[0],t=r[1];s.unmount();function u(v,w,x){var y=false;s.render({Container:o,environment:c('RelayStore'),route:v,forceFetch:w,onReadyStateChange:function z(aa){var ba=aa.aborted,ca=aa.error,da=aa.ready;if(ba)return;if(ca)throw ca;if(da&&!y){y=true;x.onMount();}}});}k&&k.remove();k=t.addRouteChangeListener(function(event){u(event.nextRoute,event.options.forceFetch,{onMount:function v(){c('RelayWebScrollPosition').restore();}});});u(q,false,{onMount:function v(){c('RelayWebScrollPosition').reset();}});c('Run').onLeave(function(){s.unmount();});});},requireModule:function m(){}};f.exports=l;}),null);
__d('DliteWeb',['invariant','RelayWeb','RelayWebHistory'],(function a(b,c,d,e,f,g,h){'use strict';if(c.__markCompiled)c.__markCompiled();var i={Events:{routeDidRender:'routeDidRender',routeWillRender:'routeWillRender'},bootstrap:function j(k,l,m){c('RelayWeb').bootstrap({Container:k,mountNode:l,route:m});},setRouteHandler:function j(k){c('RelayWeb').getRouter().done(function(l){l.setRouteHandler(k);});},pushRoute:function j(k,l){c('RelayWeb').getRouter().done(function(m){m.pushRoute(k,l);});},refetchRoute:function j(k){c('RelayWeb').getRouter().done(function(l){var m=c('RelayWebHistory').getCurrentEntry().getRoute();if(m===k){l.replaceRoute(k);}else l.pushRoute(k);});},replaceRoute:function j(k){c('RelayWeb').getRouter().done(function(l){l.replaceRoute(k);});},replaceFragment:function j(k){c('RelayWeb').getRouter().done(function(l){l.replaceFragment(k);});},injectRouteRecognizer:function j(k){c('RelayWeb').getRouter().done(function(l){l.setRouteMapper(k);});},addRetroactiveListener:function j(k,l){!(k===i.Events.routeDidRender||k===i.Events.routeWillRender)?h(0):void 0;c('RelayWeb').getRouter().done(function(m){m.addRouteChangeListener(l);});}};f.exports=i;}),null);
__d('MediaPage',['DliteWeb'],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h={init:function i(){c('DliteWeb').setRouteHandler(function(){return true;});}};f.exports=h;}),null);
__d('PagesPhotoAlbumStackedCover.react',['cx','Image.react','React'],(function a(b,c,d,e,f,g,h){'use strict';var i,j;if(c.__markCompiled)c.__markCompiled();var k=175;i=babelHelpers.inherits(l,c('React').Component);j=i&&i.prototype;function l(m){j.constructor.call(this,m);}l.prototype.render=function(){var m=this.props.imageContainerSize?Math.min(this.props.imageContainerSize,k):k,n=this.props.imageSize?Math.min(this.props.imageSize,m):m,o={width:m-2+'px',height:m-2+'px',lineHeight:m+'px'},p={width:m-2+'px',height:m-2+'px'};return (c('React').createElement('div',{className:"_3ets"},c('React').createElement('div',{className:"_3ett",style:o},c('React').createElement(c('Image.react'),{height:n,src:this.props.imageUri,width:n})),c('React').createElement('div',{className:"_3etu",style:p}),c('React').createElement('div',{className:"_3etw",style:p})));};f.exports=l;}),null);
__d("XPhotosReorderAlbumController",["XController"],(function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/photos\/album\/reorder\/",{order:{type:"FBIDVector",required:true},owner:{type:"FBID",required:true}});}),null);
__d('PagePhotosTabAlbumsView.react',['ix','csx','cx','fbt','AsyncRequest','AsyncResponse','DOMQuery','FBMorePager.react','HTML5FilePicker','LeftRight.react','Link.react','PagePhotosTabConfig','PagesPhotoAlbumStackedCover.react','PhotosUploaderConst','PhotosUploadWaterfallApplications','ProfileTabConst','PUWApplications','React','ReactDOM','Relay','SortableGroup','UploadSession','WaterfallIDGenerator','XAlbumUploadOverlayController','XPagesProfilePhotosController','XPhotosReorderAlbumController','XUICard.react','XUIGrayText.react','XUISpinner.react','XUIText.react','fbglyph'],(function a(b,c,d,e,f,g,h,i,j,k){'use strict';var l,m;if(c.__markCompiled)c.__markCompiled();var n=175,o='/images/photos/empty-album.png',p=45,q=1500,r='create_new_album_session_id',s=new (c('SortableGroup'))();l=babelHelpers.inherits(t,c('React').Component);m=l&&l.prototype;function t(v){m.constructor.call(this,v);this.$PagePhotosTabAlbumsView8=function(x,y){if(!y)return;y(x);this.setState({selectedAlbumID:x});}.bind(this);var w=this.props.relay.route.params.albums_num_first_load;if(this.$PagePhotosTabAlbumsView1())w-=1;this.state={hasMore:true,isWaiting:false,numFirstLoad:w,selectedAlbumID:null};}t.prototype.componentWillMount=function(){this.props.relay.setVariables({count:this.state.numFirstLoad});};t.prototype.componentDidMount=function(){var v=c('ReactDOM').findDOMNode(this.refs.createAlbumButtonID);if(v!==null){var w=new (c('HTML5FilePicker'))(v,{accept:'image/*',multiple:true,qn:this.props.page.id});c('UploadSession').addFilePickerToSession(r,w);}this.$PagePhotosTabAlbumsView2(false);};t.prototype.componentWillUnmount=function(){s.destroy();};t.prototype.componentDidUpdate=function(){this.$PagePhotosTabAlbumsView2(true);};t.prototype.render=function(){if(!this.$PagePhotosTabAlbumsView1()&&this.props.page.albums.edges.length===0)return null;return c('React').createElement(c('XUICard.react'),{className:"_2spc"},this.$PagePhotosTabAlbumsView3(),c('React').createElement('div',{ref:'albumGridItems'},this.$PagePhotosTabAlbumsView4(),this.$PagePhotosTabAlbumsView5(),this.$PagePhotosTabAlbumsView6()),this.$PagePhotosTabAlbumsView7());};t.prototype.componentWillReceiveProps=function(v){if(!this.state.isWaiting&&v.page.albums.edges.length===this.props.page.albums.edges.length)this.setState({hasMore:false});};t.prototype.$PagePhotosTabAlbumsView2=function(v){if(this.$PagePhotosTabAlbumsView1()){if(!v)s.setOrderChangeHandler(function(){new (c('AsyncRequest'))().setErrorHandler(function(x){c('AsyncResponse').defaultErrorHandler(x);}).setURI(c('XPhotosReorderAlbumController').getURIBuilder().setFBID('owner',this.props.page.id).setFBIDVector('order',s.getOrder()).getURI()).send();}.bind(this));var w=c('ReactDOM').findDOMNode(this.refs.albumGridItems);if(w===null)return;c('DOMQuery').scry(w,"._3cdi").forEach(function(x){var y=x.getAttribute('data-token');if(!s.keyExists(y))s.addSortable(y,x);});}};t.prototype.$PagePhotosTabAlbumsView1=function(){var v=this.props.relay.route.params.show_create_album_grid;if(v===false)return false;var w=this.props.page.viewer_profile_permissions;return w.includes('CREATE_CONTENT');};t.prototype.$PagePhotosTabAlbumsView3=function(){if(this.props.relay.route.params.show_header===false)return null;var v=this.props.relay.route.params.albums_num_each_load_more;if(v){return c('React').createElement('div',{className:"_2pi5"},c('React').createElement(c('XUIGrayText.react'),{display:'block',shade:'medium',size:'large'},k._("All Albums")));}else{var w=c('XPagesProfilePhotosController').getURIBuilder().setString('page_token',this.props.relay.route.params.page_id).setEnum('tab',c('ProfileTabConst').ALBUMS).getURI();return c('React').createElement('div',{className:"_2pil _2pi5"},c('React').createElement(c('LeftRight.react'),null,c('React').createElement(c('XUIGrayText.react'),{display:'block',shade:'medium',size:'large'},k._("Albums")),c('React').createElement(c('Link.react'),{href:w},c('React').createElement(c('XUIGrayText.react'),{display:'block',shade:'medium',size:'medium'},k._("See All")))));}};t.prototype.$PagePhotosTabAlbumsView4=function(){if(!this.$PagePhotosTabAlbumsView1())return null;var v=c('XAlbumUploadOverlayController').getURIBuilder().setInt('owner_id',this.props.page.id).setString('application',c('PhotosUploadWaterfallApplications').HTML5).setString('xapplication',c('PUWApplications').WEB_HTML5).setString('session_id',r).setString('qn',c('WaterfallIDGenerator').generate()).setString('ref',c('PhotosUploaderConst').REF_PORTFOLIO_PHOTOS).getURI();return c('React').createElement('div',{className:"_3rte _2sw8"},c('React').createElement(c('PagesPhotoAlbumStackedCover.react'),{imageUri:h("\/images\/assets_DO_NOT_HARDCODE\/fb_glyphs\/plus_24_accent-blue.png"),imageSize:p}),c('React').createElement(c('Link.react'),{ajaxify:v,className:"_4f7b",href:'#',ref:'createAlbumButtonID',rel:'async-post'}),c('React').createElement('div',{className:"_3hpt _2pif"},c('React').createElement(c('Link.react'),{ajaxify:v,className:"_3910",href:'#',rel:'async-post'},c('React').createElement(c('XUIText.react'),{display:'block',size:'medium'},k._("Create Album")))));};t.prototype.$PagePhotosTabAlbumsView5=function(){var v=this.props.relay.route.params,w=v.show_all_photos_grid,x=v.on_album_click;if(!w)return null;return c('React').createElement('div',{className:"_3rte",onClick:function y(){return x(null);}},c('React').createElement(c('Link.react'),{href:'#'},c('React').createElement(c('PagesPhotoAlbumStackedCover.react'),{imageUri:o})),c('React').createElement('div',{className:"_3hpt _2pif"},c('React').createElement(c('Link.react'),{href:'#'},c('React').createElement(c('XUIText.react'),{display:'block',size:'medium'},k._("All Photos")))));};t.prototype.$PagePhotosTabAlbumsView6=function(){var v=this.props.page.albums,w=[];v.edges.forEach(function(x,y){var z=x.node,aa=z.album_cover_photo,ba=z.media,ca=z.name,da=z.id,ea=this.props.relay.route.params,fa=ea.hide_album,ga=ea.on_album_click,ha=ea.page_id,ia=ea.selecting_album;if(fa!==da){var ja=null;if(!ga)ja=c('XPagesProfilePhotosController').getURIBuilder().setString('page_token',ha).setEnum('tab',c('ProfileTabConst').ALBUM).setFBID('album_id',da).getURI();var ka=false;if(ia===true)if(!this.state.selectedAlbumID&&y===0){ka=true;this.$PagePhotosTabAlbumsView8(da,ga);}else if(this.state.selectedAlbumID===da)ka=true;w.push(c('React').createElement('div',{className:"_3rte"+(this.$PagePhotosTabAlbumsView1()?' '+"_3cdi":''),'data-token':da,key:da,onClick:function(){this.$PagePhotosTabAlbumsView8(da,ga);}.bind(this)},c('React').createElement(c('Link.react'),{href:ja},c('React').createElement(c('PagesPhotoAlbumStackedCover.react'),{imageUri:aa?aa.image.uri:o})),c('React').createElement('div',{className:ka?"_5ej2":''}),c('React').createElement('div',{className:"_3hpt _2pif"},c('React').createElement(c('Link.react'),{href:ja},c('React').createElement(c('XUIText.react'),{display:'block',size:'medium'},ca))),c('React').createElement(c('XUIGrayText.react'),{display:'block',size:'medium'},k._({"*":{"Photo":"{count} Photo","Photos":"{count} Photos"}},[k.param('count',ba.count,[0]),k['enum'](ba.count===1?'Photo':'Photos',{Photo:'Photo',Photos:'Photos'})]))));}}.bind(this));return w;};t.prototype.$PagePhotosTabAlbumsView7=function(){if(!this.props.relay.route.params.albums_num_each_load_more)return null;if(this.props.page.albums.edges.length<this.state.numFirstLoad||!this.state.hasMore)return null;return (c('React').createElement(c('FBMorePager.react'),{onMore:function(){return this.$PagePhotosTabAlbumsView9();}.bind(this)},c('React').createElement('div',{className:"_3d2x _2piq"},c('React').createElement(c('XUISpinner.react'),{size:'large'}))));};t.prototype.$PagePhotosTabAlbumsView9=function(){if(this.state.isWaiting)return;this.setState({isWaiting:true});setTimeout(function(){var v=this.props.relay.route.params.albums_num_each_load_more;this.props.relay.setVariables({count:this.props.relay.variables.count+v});this.setState({isWaiting:false});}.bind(this),q);};var u=c('Relay').createContainer(t,{initialVariables:{count:c('PagePhotosTabConfig').NUM_FIRST_LOAD_PLACEHOLDER,imageSize:n},fragments:{page:function v(){return function(){return {children:[{fieldName:'id',kind:'Field',metadata:{isRequisite:true},type:'ID'},{fieldName:'viewer_profile_permissions',kind:'Field',metadata:{isPlural:true},type:'String'},{calls:[{kind:'Call',metadata:{},name:'first',value:{kind:'CallVariable',callVariableName:'count'}}],children:[{children:[{children:[{fieldName:'id',kind:'Field',metadata:{isRequisite:true},type:'ID'},{fieldName:'name',kind:'Field',metadata:{},type:'String'},{children:[{calls:[{kind:'Call',metadata:{},name:'sizing',value:{kind:'CallValue',callValue:'cover-fill-cropped'}},{kind:'Call',metadata:{},name:'height',value:{kind:'CallVariable',callVariableName:'imageSize'}},{kind:'Call',metadata:{},name:'width',value:{kind:'CallVariable',callVariableName:'imageSize'}}],children:[{fieldName:'uri',kind:'Field',metadata:{},type:'Url'}],fieldName:'image',kind:'Field',metadata:{canHaveSubselections:true},type:'Image'},{fieldName:'id',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'ID'}],fieldName:'album_cover_photo',kind:'Field',metadata:{canHaveSubselections:true,inferredRootCallName:'node',inferredPrimaryKey:'id'},type:'Photo'},{children:[{fieldName:'count',kind:'Field',metadata:{},type:'Int'}],fieldName:'media',kind:'Field',metadata:{canHaveSubselections:true,isConnection:true,isFindable:true},type:'MediaSetMediaConnection'}],fieldName:'node',kind:'Field',metadata:{canHaveSubselections:true,inferredRootCallName:'node',inferredPrimaryKey:'id',isRequisite:true},type:'Album'},{fieldName:'cursor',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'ID'}],fieldName:'edges',kind:'Field',metadata:{canHaveSubselections:true,isPlural:true},type:'AlbumsEdge'},{children:[{fieldName:'has_next_page',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'Boolean'},{fieldName:'has_previous_page',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'Boolean'}],fieldName:'page_info',kind:'Field',metadata:{canHaveSubselections:true,isGenerated:true,isRequisite:true},type:'PageInfo'}],fieldName:'albums',kind:'Field',metadata:{canHaveSubselections:true,isConnection:true},type:'AlbumsConnection'}],id:c('Relay').QL.__id(),kind:'Fragment',metadata:{},name:'PagePhotosTabAlbumsView_react_PageRelayQL',type:'Page'};}();}}});u.moduleName='PagePhotosTabAlbumsView.react';f.exports=u;}),null);
__d('PagePhotosTabAddPhotosDialog.react',['cx','fbt','DialogExpansion','HTML5FilePicker','LayerFadeOnHide','MediaPageRoute','PagePhotosTabAlbumsView.react','PhotosUploaderConst','PhotosUploadWaterfallApplications','PUWApplications','React','ReactDOM','Relay','RelayRootContainer','UploadSession','WaterfallIDGenerator','XAlbumUploadOverlayController','XUIDialog.react','XUIDialogBody.react','XUIDialogButton.react','XUIDialogCancelButton.react','XUIDialogFooter.react','XUIDialogTitle.react','XUIRadioList.react','XUIText.react'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k;if(c.__markCompiled)c.__markCompiled();var l=c('XUIRadioList.react').Item,m='create_new_album',n=672,o=6,p=6,q='photos_tab_add_new_photos_session_id',r='use_existing_album';j=babelHelpers.inherits(s,c('React').Component);k=j&&j.prototype;function s(u){k.constructor.call(this,u);this.$PagePhotosTabAddPhotosDialog1=function(v){this.setState({selectedAlbumID:v});}.bind(this);this.$PagePhotosTabAddPhotosDialog2=function(v){if(v===m){this.setState({selectedAlbumID:null});}else this.setState({selectedAlbumID:0});}.bind(this);this.state={selectedAlbumID:null};}s.prototype.componentDidMount=function(){var u=c('ReactDOM').findDOMNode(this.refs.addPhotosConfirmButtonID);if(u!==null){var v=new (c('HTML5FilePicker'))(u,{accept:'image/*',multiple:true,qn:q});c('UploadSession').addFilePickerToSession(q,v);}};s.prototype.render=function(){var u=new (c('MediaPageRoute'))({albums_num_each_load_more:o,albums_num_first_load:p,show_create_album_grid:false,on_album_click:this.$PagePhotosTabAddPhotosDialog1,selecting_album:this.state.selectedAlbumID!==null,show_header:false,name:this.props.page.name,page_id:this.props.page.id}),v=c('XAlbumUploadOverlayController').getURIBuilder().setInt('owner_id',this.props.page.id).setInt('album_id',this.state.selectedAlbumID).setString('application',c('PhotosUploadWaterfallApplications').HTML5).setString('xapplication',c('PUWApplications').WEB_HTML5).setString('session_id',q).setString('qn',c('WaterfallIDGenerator').generate()).setString('ref',c('PhotosUploaderConst').REF_PORTFOLIO_PHOTOS).getURI();return c('React').createElement(c('XUIDialog.react'),{behaviors:{DialogExpansion:c('DialogExpansion'),LayerFadeOnHide:c('LayerFadeOnHide')},shown:true,width:n},c('React').createElement(c('XUIDialogTitle.react'),null,c('React').createElement(c('XUIText.react'),{display:'block',size:'medium',weight:'normal'},i._("Add Photos"))),c('React').createElement(c('XUIDialogBody.react'),{className:"_4bre"},c('React').createElement(c('XUIRadioList.react'),{onValueChange:this.$PagePhotosTabAddPhotosDialog2,selectedValue:this.state.selectedAlbumID===null?m:r},c('React').createElement(l,{className:"_4brf",value:m},c('React').createElement(c('XUIText.react'),{display:'block',size:'medium',weight:'normal'},i._("Create a new album"))),c('React').createElement(l,{value:r},c('React').createElement(c('XUIText.react'),{display:'block',size:'medium',weight:'normal'},i._("Add to an existing album")),c('React').createElement('div',{className:"_4brg"},c('React').createElement(c('RelayRootContainer'),{Component:c('PagePhotosTabAlbumsView.react'),route:u}))))),c('React').createElement(c('XUIDialogFooter.react'),null,c('React').createElement(c('XUIDialogCancelButton.react'),{className:"_3rix"}),c('React').createElement(c('XUIDialogButton.react'),{action:'confirm',ajaxify:v,href:'#',label:i._("Continue"),rel:'async-post',ref:'addPhotosConfirmButtonID',use:'confirm'})));};var t=c('Relay').createContainer(s,{fragments:{page:function u(){return function(){return {children:[{fieldName:'id',kind:'Field',metadata:{isRequisite:true},type:'ID'},{fieldName:'name',kind:'Field',metadata:{},type:'String'}],id:c('Relay').QL.__id(),kind:'Fragment',metadata:{},name:'PagePhotosTabAddPhotosDialog_react_PageRelayQL',type:'Page'};}();}}});t.moduleName='PagePhotosTabAddPhotosDialog.react';f.exports=t;}),null);
__d('PagePhotosTabAllPhotosGrid.react',['PagePhotosTabConfig','PagePhotosTabPhotoGridItem.react','PagePhotosTabPhotosView.react','React','Relay'],(function a(b,c,d,e,f,g){'use strict';var h,i;if(c.__markCompiled)c.__markCompiled();h=babelHelpers.inherits(j,c('React').Component);i=h&&h.prototype;function j(){var l,m;for(var n=arguments.length,o=Array(n),p=0;p<n;p++)o[p]=arguments[p];return m=(l=i.constructor).call.apply(l,[this].concat(o)),this.$PagePhotosTabAllPhotosGrid1=function(){this.props.relay.setVariables({count:this.props.relay.variables.count+c('PagePhotosTabConfig').NUM_EACH_LOAD_MORE});}.bind(this),m;}j.prototype.render=function(){var l=this.props.page,m=l.id,n=l.posted_photos;return c('React').createElement(c('PagePhotosTabPhotosView.react'),babelHelpers['extends']({onLoadMore:this.$PagePhotosTabAllPhotosGrid1,pageID:m,photos:n},this.props));};var k=c('Relay').createContainer(j,{initialVariables:{count:c('PagePhotosTabConfig').NUM_FIRST_LOAD},fragments:{page:function l(){return function(m){return {children:[{fieldName:'id',kind:'Field',metadata:{isRequisite:true},type:'ID'},{calls:[{kind:'Call',metadata:{},name:'first',value:{kind:'CallVariable',callVariableName:'count'}}],children:[{children:[{children:[].concat.apply([],[{fieldName:'id',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'ID'},c('Relay').QL.__frag(m),{children:[{children:[{fieldName:'id',kind:'Field',metadata:{isRequisite:true},type:'ID'}],fieldName:'album',kind:'Field',metadata:{canHaveSubselections:true,inferredRootCallName:'node',inferredPrimaryKey:'id'},type:'Album'},{fieldName:'id',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'ID'}],id:c('Relay').QL.__id(),kind:'Fragment',metadata:{},name:'Photo',type:'Photo'}]),fieldName:'node',kind:'Field',metadata:{canHaveSubselections:true,inferredRootCallName:'node',inferredPrimaryKey:'id',isRequisite:true},type:'Photo'},{fieldName:'cursor',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'ID'}],fieldName:'edges',kind:'Field',metadata:{canHaveSubselections:true,isPlural:true},type:'PostedPhotosEdge'},{children:[{fieldName:'has_next_page',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'Boolean'},{fieldName:'has_previous_page',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'Boolean'}],fieldName:'page_info',kind:'Field',metadata:{canHaveSubselections:true,isGenerated:true,isRequisite:true},type:'PageInfo'}],fieldName:'posted_photos',kind:'Field',metadata:{canHaveSubselections:true,isConnection:true,isFindable:true},type:'PostedPhotosConnection'}],id:c('Relay').QL.__id(),kind:'Fragment',metadata:{},name:'PagePhotosTabAllPhotosGrid_react_PageRelayQL',type:'Page'};}(c('PagePhotosTabPhotoGridItem.react').getFragment('photo'));}}});k.moduleName='PagePhotosTabAllPhotosGrid.react';f.exports=k;}),null);
__d('PagesPhotosTabEmptySection.react',['cx','fbt','React','XUIGrayText.react'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k;if(c.__markCompiled)c.__markCompiled();j=babelHelpers.inherits(l,c('React').Component);k=j&&j.prototype;l.prototype.render=function(){return (c('React').createElement('div',{className:"_31iy"},c('React').createElement(c('XUIGrayText.react'),{shade:'light'},this.props.canViewerEdit?i._("No photos yet. Add photos?"):i._("No photos to show"))));};function l(){j.apply(this,arguments);}f.exports=l;}),null);
__d('PagePhotosTabAllPhotosView.react',['ix','cx','fbt','Image.react','LeftRight.react','Link.react','PagePhotosTabAddPhotosDialog.react','PagePhotosTabAllPhotosGrid.react','PagesPhotosTabEmptySection.react','React','Relay','XUICard.react','XUIGrayText.react','XUIText.react','fbglyph'],(function a(b,c,d,e,f,g,h,i,j){'use strict';var k,l;if(c.__markCompiled)c.__markCompiled();k=babelHelpers.inherits(m,c('React').Component);l=k&&k.prototype;function m(o){l.constructor.call(this,o);this.$PagePhotosTabAllPhotosView2=function(){var p=c('React').createElement(c('XUIGrayText.react'),{display:'block',shade:'medium',size:'large'},j._("All Photos"));if(this.$PagePhotosTabAllPhotosView1()){var q=c('React').createElement(c('Link.react'),{href:'#',onClick:function(){return this.setState({addPhotosDialogShown:true});}.bind(this)},c('React').createElement(c('Image.react'),{className:"_390_",src:h("\/images\/assets_DO_NOT_HARDCODE\/fb_glyphs\/camera_20_accent-blue.png")}),c('React').createElement(c('XUIText.react'),{className:"_3910 _2pis",shade:'medium',size:'medium'},j._("Add Photos")));p=c('React').createElement(c('LeftRight.react'),null,p,q);}return (c('React').createElement('div',{className:"_2pio _2pib _2pif"},p));}.bind(this);this.state={addPhotosDialogShown:false};}m.prototype.render=function(){var o=this.props.page.posted_photos.count;if(o===0&&!this.$PagePhotosTabAllPhotosView1())return c('React').createElement(c('PagesPhotosTabEmptySection.react'),{canViewerEdit:false});var p=null;if(this.state.addPhotosDialogShown)p=c('React').createElement(c('PagePhotosTabAddPhotosDialog.react'),this.props);return c('React').createElement(c('XUICard.react'),null,this.$PagePhotosTabAllPhotosView2(),o===0?c('React').createElement(c('PagesPhotosTabEmptySection.react'),{canViewerEdit:true}):c('React').createElement(c('PagePhotosTabAllPhotosGrid.react'),{page:this.props.page}),p);};m.prototype.$PagePhotosTabAllPhotosView1=function(){return this.props.page.viewer_profile_permissions.includes('CREATE_CONTENT');};var n=c('Relay').createContainer(m,{fragments:{page:function o(){return function(p,q){return {children:[].concat.apply([],[{fieldName:'viewer_profile_permissions',kind:'Field',metadata:{isPlural:true},type:'String'},{children:[{fieldName:'count',kind:'Field',metadata:{},type:'Int'}],fieldName:'posted_photos',kind:'Field',metadata:{canHaveSubselections:true,isConnection:true,isFindable:true},type:'PostedPhotosConnection'},{fieldName:'id',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'ID'},c('Relay').QL.__frag(p),c('Relay').QL.__frag(q)]),id:c('Relay').QL.__id(),kind:'Fragment',metadata:{},name:'PagePhotosTabAllPhotosView_react_PageRelayQL',type:'Page'};}(c('PagePhotosTabAddPhotosDialog.react').getFragment('page'),c('PagePhotosTabAllPhotosGrid.react').getFragment('page'));}}});n.moduleName='PagePhotosTabAllPhotosView.react';f.exports=n;}),null);
__d("XRelayBootloadController",["XController"],(function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/relay\/bootload\/",{component:{type:"String",required:true},params:{type:"String",required:true},route:{type:"String",required:true},uri:{type:"String",required:true}});}),null);